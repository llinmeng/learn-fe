<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>实时监控文件的读取进度</title>
</head>
<body>
    浏览文件: <input id="file1" type="file"/><br/>
    上传进度: <progress id="pro" value="0"></progress>
    <div id="result">
        <input type="button" value="读取二进制文件" onclick="readBinary();"/><br/>
    </div>
    <script type="text/javascript">
        var reader = null;
        if (FileReader) {
            reader = new FileReader();
        } else {
            alert("浏览器不支持 FileReader!");
        }

        var readBinary = function () {
            reader.readAsBinaryString(document.getElementById("file1").files[0]);
            var pro = document.getElementById("pro");
            pro.max = document.getElementById("file1").files[0].size;
            reader.onprogress = function (evt) {
                pro.value = evt.loaded;
            };
           /* reader.onload = function () {
                document.getElementById("result").innerHTML = reader.result;
            };*/

        }
    </script>
</body>
</html>


