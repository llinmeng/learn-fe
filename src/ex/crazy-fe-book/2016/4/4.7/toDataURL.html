<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h2>位图输出</h2>
    <canvas id="mc" width="420" height="320" style="border: 1px solid black"></canvas>
    <img id="result" src="" alt="位图输出" />
    <script type="text/javascript">
        var canvas = document.getElementById("mc");
        var ctx = canvas.getContext("2d");
        ctx.save();
        ctx.translate(30, 20);
        var image = new Image();
        image.src  = "image.jpg";
        image.onload = function () {
            /*创建位图填充*/
            imgPattern = ctx.createPattern(image, "repeat");
            /*设置使用位图填充作为填充颜色*/
            ctx.fillStyle = imgPattern;
            /*填充一个矩形*/
            ctx.fillRect(0, 0, 160, 80);
            /*恢复坐标系统*/
            ctx.restore();
            /*平移坐标系统*/
            ctx.translate(280, 160);
            ctx.beginPath();
            /*添加圆弧*/
            ctx.arc(0, 0, 80, 0, Math.PI * 2, true);
            ctx.closePath();
            ctx.lineWidth = 12;
            /*设置使用位图填充作为边框颜色*/
            ctx.strokeStyle = imgPattern;
            ctx.stroke();
            /*使用img元素来显示Canvas的输出结果*/
            document.getElementById("result").src = canvas.toDataURL("image/jpg");
        }
    </script>
</body>
</html>